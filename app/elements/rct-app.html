<!DOCTYPE html>
<html>
<head>
    <link href="../bower_components/polymer/polymer.html" rel="import">
    <!-- Element Imports -->
    <!--<link rel="import" href="../styles/app-theme.html">-->
    <link rel="import" href="../bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="../bower_components/paper-button/paper-button.html">
    <link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
    <link rel="import" href="../bower_components/polymerfire/firebase-app.html">
    <link rel="import" href="../bower_components/polymerfire/firebase-document.html">
</head>

<dom-module id="rct-app">
    <style is="custom-style" include="iron-flex iron-flex-alignment"></style>
    <style is="custom-style">
        /* CSS rules for your element */
        .rct-button-container {
            margin: 13px;
        }

        .rct-button-container> paper-button{
            width: 100%;
        }

        paper-button.indigo {
            background-color: var(--paper-indigo-500);
            color: white;
        }

        /*paper-button:focus {*/
            /*background-color: default;*/
            /*color: default;*/
            /*font-weight: normal;;*/
        /*}*/

        paper-button {
            --paper-button-raised-keyboard-focus: {
                background-color: default;
                color: default;
                font-weight: normal;
                box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);;
            }
        }

        p {
            font-family: 'Roboto', 'Noto', 'sans-serif';
        }
    </style>
    <template>
        <!-- local DOM for your element -->
        <paper-toolbar>
            <!--<paper-icon-button icon="menu"></paper-icon-button>-->
            <span class="title">Random Conversation Topic</span>
            <!--<paper-icon-button icon="refresh"></paper-icon-button>-->
            <!--<paper-icon-button icon="add">+</paper-icon-button>-->
        </paper-toolbar>

        <div class="layout vertical">
            <div class="layout horizontal center center-center">
                <p>{{visibleTopic}}</p>
            </div>
            <div class="rct-button-container layout horizontal">
                <paper-button class="indigo" raised id="pickATopicBtn" on-tap="pickATopic">Pick A Topic</paper-button>
            </div>

            <div class="rct-button-container layout horizontal">
                <paper-button raised on-tap="share">Share</paper-button>
            </div>

        </div>
        <firebase-app auth-domain="random-conversation-topic.firebaseapp.com"
                      database-url="https://random-conversation-topic.firebaseio.com"
                      api-key="AIzaSyClduzlz0MPdn4e6jVnMX6M2iAwa8e96MA">
        </firebase-app>
        <firebase-document
                path="/topics"
                data="{{topics}}">
        </firebase-document>
    </template>
    <script>
        Polymer({
            is: "rct-app",
            properties: {
                //tapTest: tapTest
                topics: {
                    type: Array,
                    observer: 'dataChanged'
                },
                visibleTopic: {
                    type: String
                }
            },
            ready: function (e) {
//                console.log('rct app ready!');
            },

            pickATopic: function() {
                console.log('picking a topic!');
                this.visibleTopic = this.topics[0];
            },

            share: function() {
                console.log('generating share token');
            },

            dataChanged: function() {
                console.log('data changed', this.topics);
            }

        });
    </script>
</dom-module>
