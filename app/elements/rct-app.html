<!DOCTYPE html>
<html>
<head>
    <link href="../bower_components/polymer/polymer.html" rel="import">
    <!-- Element Imports -->
    <!--<link rel="import" href="../styles/app-theme.html">-->
    <link rel="import" href="../bower_components/iron-icons/iron-icons.html">
    <link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import" href="../bower_components/paper-button/paper-button.html">
    <link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
    <link rel="import" href="../bower_components/polymerfire/firebase-app.html">
    <link rel="import" href="../bower_components/polymerfire/firebase-document.html">
    <link rel="import" href="../bower_components/google-url-shortener/google-url-shortener.html">
</head>

<dom-module id="rct-app">
    <style is="custom-style" include="iron-flex iron-flex-alignment"></style>
    <style is="custom-style">
        /* CSS rules for your element */

        .rct-container {
            margin: 13px;
        }

        .rct-container> paper-button{
            width: 100%;
        }

        paper-toolbar {
            background-color: var(--paper-deep-purple-500);
        }

        paper-button.indigo {
            background-color: var(--paper-deep-purple-500);
            color: white;
        }

        paper-button.indigo[disabled] {
            background: #eaeaea;
            color: #a8a8a8
        }

        /*paper-button:focus {*/
            /*background-color: default;*/
            /*color: default;*/
            /*font-weight: normal;;*/
        /*}*/

        paper-button {
            --paper-button-raised-keyboard-focus: {
                background-color: default;
                color: default;
                font-weight: normal;
                box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);;
            }
        }

        p {
            font-family: 'Roboto', 'Noto', 'sans-serif';
        }

        #rctTopic {
            font-size: 2em;
            margin: 0 0.29em;
        }

        #rctTopic.done {
            font-size: 2.5em;
        }

        #shareUrl {
            font-size: 1.5em;
        }

        #shareMessage {
            margin-top: 0;
        }
    </style>
    <template>
        <!-- local DOM for your element -->
        <paper-toolbar>
            <span class="title">Random Conversation Topic</span>
        </paper-toolbar>

        <div class="layout vertical">
            <div class="rct-container layout horizontal center center-center" id="topicWrapperDiv">
                <p id="rctTopic" hidden>{{visibleTopic}}</p>
            </div>
            <div class="rct-container layout horizontal">
                <paper-button class="indigo" raised id="pickATopicBtn" on-tap="pickATopic" disabled>Pick A Topic</paper-button>
            </div>

            <div class="rct-container layout horizontal">
                <paper-button raised id="shareBtn" on-tap="share" disabled>Share</paper-button>
            </div>

            <div class="rct-container layout horizontal center center-center">
                <p id="shareUrl" hidden>An error occurred, sorry</p>
            </div>

            <div class="rct-container layout horizontal center center-center">
                <p id="shareMessage" hidden>Send the url above to your friend</p>
            </div>
        </div>
        <firebase-app auth-domain="random-conversation-topic.firebaseapp.com"
                      database-url="https://random-conversation-topic.firebaseio.com"
                      api-key="AIzaSyClduzlz0MPdn4e6jVnMX6M2iAwa8e96MA">
        </firebase-app>

        <firebase-document path="/topics" data="{{topics}}">
        </firebase-document>

        <firebase-document id="firebaseShares" path="/shares" data="{{currentIndex}}" disabled>
        </firebase-document>

        <!--<google-client-loader id="urlshortener" name="urlshortener" version="v1"-->
                              <!--on-google-api-load="_readyForAction"-->
                              <!--on-google-api-load-error="_apiLoadError">-->
        <!--</google-client-loader>-->

        <google-url-shortener id="shortener">
        </google-url-shortener>
    </template>
    <script src="rct-app.js">
    </script>
</dom-module>
